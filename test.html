<style>
    /* 1. –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò (–°–í–ï–¢–õ–ê–Ø –¢–ï–ú–ê) */
    :root {
        --bg-color: #f8f9fa; /* –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω */
        --text-color: #212529; /* –¢—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç */
        --card-bg: #ffffff; /* –§–æ–Ω –∫–∞—Ä—Ç–æ—á–µ–∫ */
        --button-bg: #007bff;
        --button-text: #ffffff;
        --button-hover-bg: #0056b3;
        --toggle-icon-color: #ffc107; /* –ò–∫–æ–Ω–∫–∞ —Å–æ–ª–Ω—Ü–∞ */
    }

    /* 2. –°–¢–ò–õ–ò –¢–Å–ú–ù–û–ô –¢–ï–ú–´ */
    .dark-theme {
        --bg-color: #212529;
        --text-color: #f8f9fa;
        --card-bg: #343a40;
        --button-bg: #6c757d;
        --button-text: #f8f9fa;
        --button-hover-bg: #5a6268;
        --toggle-icon-color: #adb5bd; /* –ò–∫–æ–Ω–∫–∞ –ª—É–Ω—ã */
    }

    /* –û–ë–©–ò–ï –°–¢–ò–õ–ò –î–õ–Ø –ü–†–ò–ú–ï–ù–ï–ù–ò–Ø –ü–ï–†–ï–ú–ï–ù–ù–´–• */
    body {
        background-color: var(--bg-color);
        color: var(--text-color);
        transition: background-color 0.3s, color 0.3s; /* –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ */
        font-family: sans-serif;
        min-height: 100vh;
        margin: 0;
        padding-top: 50px; /* –û—Ç—Å—Ç—É–ø –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏ */
    }

    /* –°–¢–ò–õ–ò –ö–û–ù–¢–ï–ù–¢–ê (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞) */
    .content-area {
        max-width: 800px;
        margin: 20px auto;
        padding: 20px;
    }

    .theme-card {
        background-color: var(--card-bg);
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }

    /* 3. –°–¢–ò–õ–ò –ö–ù–û–ü–ö–ò –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–Ø */
    .theme-toggle-button {
        position: fixed; /* –ó–∞–∫—Ä–µ–ø–ª—è–µ–º –≤ —É–≥–ª—É */
        top: 15px;
        right: 15px;
        padding: 8px 12px;
        background-color: var(--button-bg);
        color: var(--button-text);
        border: none;
        border-radius: 50px; /* –ö—Ä—É–≥–ª–∞—è —Ñ–æ—Ä–º–∞ */
        cursor: pointer;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 5px;
        transition: background-color 0.3s ease;
        z-index: 1000;
    }

    .theme-toggle-button:hover {
        background-color: var(--button-hover-bg);
    }

    /* –ò–∫–æ–Ω–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ–º emoji –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã) */
    .icon {
        font-size: 1.2em;
        line-height: 1;
        color: var(--toggle-icon-color);
    }
</style>

<button id="themeToggle" class="theme-toggle-button">
    <span class="icon" id="themeIcon">‚òÄÔ∏è</span>
    <span id="themeText">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</span>
</button>

<div class="content-area">
    <h1>–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã</h1>
    <div class="theme-card">
        <h3>–í–æ–ø—Ä–æ—Å 123. –ß–µ–ª–æ–≤–µ–∫ –∫–∞–∫ –≥–ª–∞–≤–Ω–∞—è —Ç–µ–º–∞ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏.</h3>
        <p>–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∞—è –∞–Ω—Ç—Ä–æ–ø–æ–ª–æ–≥–∏—è —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —á–µ–ª–æ–≤–µ–∫–∞ –≤ –µ–≥–æ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏. –ì–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å: —á—Ç–æ –¥–µ–ª–∞–µ—Ç —á–µ–ª–æ–≤–µ–∫–∞ —á–µ–ª–æ–≤–µ–∫–æ–º?</p>
    </div>
    <div class="theme-card">
        <h3>–í–æ–ø—Ä–æ—Å 142. –°—É—Ç—å —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ –ì–µ–≥–µ–ª—è.</h3>
        <p>–°—É—Ç—å —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ –ì–µ–≥–µ–ª—è –∑–∞–∫–ª—é—á–µ–Ω–∞ –≤ –µ–≥–æ —Å–∏—Å—Ç–µ–º–µ –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–¥–µ–∞–ª–∏–∑–º–∞, –≥–¥–µ –º–∏—Ä –ø–æ–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–∫ —Å–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏–µ –ê–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –î—É—Ö–∞.</p>
    </div>
</div>

<script>
    // 4. JAVASCRIPT –õ–û–ì–ò–ö–ê –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–Ø
    const body = document.body;
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const themeText = document.getElementById('themeText');
    const storageKey = 'user-theme';
    const darkThemeClass = 'dark-theme';

    /**
     * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–ª–∞—Å—Å —Ç–µ–º—ã –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–∫–æ–Ω–∫—É/—Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏.
     * @param {string} theme - 'dark' –∏–ª–∏ 'light'
     */
    function applyTheme(theme) {
        if (theme === 'dark') {
            body.classList.add(darkThemeClass);
            themeIcon.textContent = 'üåô';
            themeIcon.style.color = 'var(--toggle-icon-color)';
            themeText.textContent = '–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞';
            localStorage.setItem(storageKey, 'dark');
        } else {
            body.classList.remove(darkThemeClass);
            themeIcon.textContent = '‚òÄÔ∏è';
            themeIcon.style.color = 'var(--toggle-icon-color)';
            themeText.textContent = '–¢—ë–º–Ω–∞—è —Ç–µ–º–∞';
            localStorage.setItem(storageKey, 'light');
        }
    }

    // 1. –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –¢–ï–ú–´ –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem(storageKey);
        // –ï—Å–ª–∏ —Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞, –ø—Ä–∏–º–µ–Ω—è–µ–º –µ–µ. –ò–Ω–∞—á–µ, –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã.
        if (savedTheme) {
            applyTheme(savedTheme);
        } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            // –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç —Ç–µ–º–Ω—É—é —Ç–µ–º—É
            applyTheme('dark');
        } else {
            applyTheme('light'); // –¢–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        }
    });

    // 2. –û–ë–†–ê–ë–û–¢–ß–ò–ö –ö–õ–ò–ö–ê –ü–û –ö–ù–û–ü–ö–ï
    themeToggle.addEventListener('click', () => {
        const currentTheme = body.classList.contains(darkThemeClass) ? 'dark' : 'light';
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        applyTheme(newTheme);
    });
</script>